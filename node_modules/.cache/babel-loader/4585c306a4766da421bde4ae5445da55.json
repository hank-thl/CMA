{"ast":null,"code":"import axios from \"axios\";\nimport $ from \"jquery\";\nimport store from \"@/store/index\";\nexport default {\n  name: \"MyLogin\",\n\n  data() {\n    return {\n      member: {\n        memberAccouunt: \"\",\n        memberPassword: \"\"\n      }\n    };\n  },\n\n  mounted() {\n    $(\".accountinput\").on(\"focus\", function () {\n      if ($(\".accountinput\").val().length <= 0) {\n        $(\".AIR\").text(\"請填寫此欄位\");\n      }\n\n      $(\".accountinput\").on(\"keyup\", function () {\n        if ($(\".accountinput\").val().length > 0) {\n          $(\".AIR\").text(\"\");\n        } else {\n          $(\".AIR\").text(\"請填寫此欄位\");\n        }\n      });\n    });\n    $(\".passwordinput\").on(\"focus\", function () {\n      if ($(\".accountinput\").val().length <= 0) {\n        $(\".PIR\").text(\"請填寫此欄位\");\n      }\n\n      $(\".passwordinput\").on(\"keyup\", function () {\n        if ($(\".passwordinput\").val().length > 0) {\n          $(\".PIR\").text(\"\");\n        } else {\n          $(\".PIR\").text(\"請填寫此欄位\");\n        }\n      });\n    }); // 点击事件\n\n    var flag = 0;\n    $(\".eye\").click(function () {\n      if (flag == 0) {\n        $(\".passwordinput\").attr(\"type\", \"text\");\n        $(\".eye\").attr(\"src\", \"https://s3.ap-northeast-1.amazonaws.com/tedawsbucket20220530/javaproject/2022_06_23_10_20_28_608.jpg\");\n        flag = 1;\n      } else {\n        $(\".passwordinput\").attr(\"type\", \"password\");\n        $(\".eye\").attr(\"src\", \"https://s3.ap-northeast-1.amazonaws.com/tedawsbucket20220530/javaproject/2022_06_23_10_19_08_840.jpg\");\n        flag = 0;\n      }\n    });\n  },\n\n  methods: {\n    loginbtn() {\n      axios.post(\"http://localhost:8081/loginJsonCrypt\", this.member).then(res => {\n        console.table(res.data);\n        store.state.memberId = res.data.memberId;\n        this.$swal(\"CMA\", \"登入成功\", \"success\");\n        this.$router.push({\n          path: \"/\"\n        });\n      }).catch(error => {\n        console.error(error);\n        $(\".LBR\").text(\"你的帳號或密碼不正確，請再試一次\");\n      });\n    },\n\n    forgotPassword() {\n      axios.post(\"http://localhost:8081/resetPassword\", this.member).then(res => {\n        console.table(res.data);\n        this.$swal(\"CMA\", \"已寄送新密碼至您的信箱\", \"success\");\n      }).catch(error => {\n        console.error(error);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","$","store","name","data","member","memberAccouunt","memberPassword","mounted","on","val","length","text","flag","click","attr","methods","loginbtn","post","then","res","console","table","state","memberId","$swal","$router","push","path","catch","error","forgotPassword"],"sourceRoot":"","sources":["/Users/hank/Documents/GitHub/CMA/src/components/MyLogin.vue"],"sourcesContent":["<template>\n  <div class=\"main-container col2-right-layout\">\n    <div class=\"main container\">\n      <div class=\"row\">\n        <section class=\"col-sm-12\">\n          <div\n            class=\"col-main\"\n            style=\"\n              background-image: url(https://s3.ap-northeast-1.amazonaws.com/tedawsbucket20220530/javaproject/2022_06_17_16_00_59_587.jpg);\n              background-size: cover;\n              background-repeat: no-repeat;\n              background-position: center center;\n            \"\n          >\n            <div style=\"display: block; margin-top: 0em\">\n              <div class=\"loginblock\">\n                <div class=\"page-title logintitle\">\n                  <h2 class=\"LTW\">登入</h2>\n                </div>\n                <div\n                  class=\"static-contain\"\n                  style=\"\n                    padding: 0 3rem 3rem;\n                    overflow: hidden;\n                    margin-top: 3rem;\n                  \"\n                >\n                  <fieldset class=\"group-select\">\n                    <div style=\"margin-bottom: 1rem\">\n                      <div class=\"input-box logininput\">\n                        <div\n                          style=\"\n                            box-sizing: border-box;\n                            width: 30rem;\n                            height: 4rem;\n                            overflow: hidden;\n                            border: 1px solid rgba(0, 0, 0, 0.14);\n                            border-radius: 2px;\n                            margin: 0 50px;\n                            align-items: center;\n                            display: flex;\n                          \"\n                        >\n                          <input\n                            type=\"text\"\n                            placeholder=\"帳號／電子郵件／手機號碼\"\n                            id=\"billing:account\"\n                            name=\"billing[account]\"\n                            title=\"Account\"\n                            class=\"input-text accountinput\"\n                            v-model=\"member.memberAccouunt\"\n                          />\n                        </div>\n                      </div>\n                      <div class=\"remind center AIR\"></div>\n                    </div>\n                    <div style=\"margin-bottom: 1rem\">\n                      <div class=\"input-box logininput\">\n                        <div\n                          style=\"\n                            box-sizing: border-box;\n                            width: 30rem;\n                            height: 4rem;\n                            overflow: hidden;\n                            border: 1px solid rgba(0, 0, 0, 0.14);\n                            border-radius: 2px;\n                            margin: 0 50px;\n                            align-items: center;\n                            display: flex;\n                          \"\n                        >\n                          <input\n                            type=\"password\"\n                            placeholder=\"密碼 (包含至少1大寫英文、1數字)\"\n                            id=\"billing:password\"\n                            name=\"billing[password]\"\n                            title=\"Password\"\n                            class=\"input-text passwordinput\"\n                            v-model=\"member.memberPassword\"\n                          />\n                          <label for=\"\"\n                            ><img\n                              src=\"https://s3.ap-northeast-1.amazonaws.com/tedawsbucket20220530/javaproject/2022_06_23_10_19_08_840.jpg\"\n                              alt=\"eye\"\n                              style=\"width: 30px !important\"\n                              class=\"eye\"\n                          /></label>\n                        </div>\n                      </div>\n                      <div class=\"remind center PIR\"></div>\n                    </div>\n\n                    <div class=\"center\">\n                      <button\n                        @click=\"loginbtn()\"\n                        type=\"submit\"\n                        title=\"Submit\"\n                        class=\"button submit\"\n                        style=\"margin-right: 10px\"\n                      >\n                        登 入\n                      </button>\n                      <a @click=\"forgotPassword()\">忘記密碼?</a>\n                    </div>\n                    <!-- remind提醒訊息欄位 -->\n                    <div\n                      class=\"remind center LBR\"\n                      style=\"margin-top: 1rem\"\n                    ></div>\n\n                    <div class=\"remind03\"></div>\n\n                    <div class=\"center\" style=\"margin-top: 2rem\">\n                      <span>還沒有加入會員?</span>\n                      <router-link\n                        :to=\"{\n                          name: 'register',\n                        }\"\n                        >馬上加入</router-link\n                      >\n                    </div>\n\n                    <hr />\n\n                    <span class=\"center\">使用以下方式登入</span>\n                    <div class=\"center\">\n                      <a\n                        href=\"http://localhost:8081/oauth2/authorization/google\"\n                      >\n                        <button class=\"threelogin\">\n                          <div>\n                            <img\n                              src=\"@/assets/images/Google.png\"\n                              alt=\"icon-account\"\n                              width=\"20px\"\n                            />\n                          </div>\n                          <div>Google</div>\n                        </button>\n                      </a>\n                    </div>\n                  </fieldset>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport $ from \"jquery\";\nimport store from \"@/store/index\";\n\nexport default {\n  name: \"MyLogin\",\n  data() {\n    return {\n      member: {\n        memberAccouunt: \"\",\n        memberPassword: \"\",\n      },\n    };\n  },\n  mounted() {\n    $(\".accountinput\").on(\"focus\", function () {\n      if ($(\".accountinput\").val().length <= 0) {\n        $(\".AIR\").text(\"請填寫此欄位\");\n      }\n      $(\".accountinput\").on(\"keyup\", function () {\n        if ($(\".accountinput\").val().length > 0) {\n          $(\".AIR\").text(\"\");\n        } else {\n          $(\".AIR\").text(\"請填寫此欄位\");\n        }\n      });\n    });\n\n    $(\".passwordinput\").on(\"focus\", function () {\n      if ($(\".accountinput\").val().length <= 0) {\n        $(\".PIR\").text(\"請填寫此欄位\");\n      }\n      $(\".passwordinput\").on(\"keyup\", function () {\n        if ($(\".passwordinput\").val().length > 0) {\n          $(\".PIR\").text(\"\");\n        } else {\n          $(\".PIR\").text(\"請填寫此欄位\");\n        }\n      });\n    });\n\n    // 点击事件\n    var flag = 0;\n    $(\".eye\").click(function () {\n      if (flag == 0) {\n        $(\".passwordinput\").attr(\"type\", \"text\");\n        $(\".eye\").attr(\n          \"src\",\n          \"https://s3.ap-northeast-1.amazonaws.com/tedawsbucket20220530/javaproject/2022_06_23_10_20_28_608.jpg\"\n        );\n        flag = 1;\n      } else {\n        $(\".passwordinput\").attr(\"type\", \"password\");\n        $(\".eye\").attr(\n          \"src\",\n          \"https://s3.ap-northeast-1.amazonaws.com/tedawsbucket20220530/javaproject/2022_06_23_10_19_08_840.jpg\"\n        );\n        flag = 0;\n      }\n    });\n  },\n\n  methods: {\n    loginbtn() {\n      axios\n        .post(\"http://localhost:8081/loginJsonCrypt\", this.member)\n        .then((res) => {\n          console.table(res.data);\n          store.state.memberId = res.data.memberId;\n          this.$swal(\"CMA\", \"登入成功\", \"success\");\n          this.$router.push({ path: \"/\" });\n        })\n        .catch((error) => {\n          console.error(error);\n\n          $(\".LBR\").text(\"你的帳號或密碼不正確，請再試一次\");\n        });\n    },\n    forgotPassword() {\n      axios\n        .post(\"http://localhost:8081/resetPassword\", this.member)\n        .then((res) => {\n          console.table(res.data);\n\n          this.$swal(\"CMA\", \"已寄送新密碼至您的信箱\", \"success\");\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.loginblock {\n  background-color: #fff;\n  box-sizing: border-box;\n  border-radius: 1rem;\n  overflow: hidden;\n  width: 50rem;\n  min-height: 50rem;\n}\n.logintitle {\n  box-sizing: border-box;\n  min-height: 5rem;\n  justify-content: space-between;\n  display: flex;\n  align-items: center;\n}\n.LTW {\n  max-width: 8.5rem;\n  margin: auto 25px 8px !important;\n}\n\n.input-text {\n  width: 100% !important;\n}\n.remind {\n  margin: 0;\n  padding: 0.3rem 0 0;\n  font-size: 0.75rem;\n  color: red;\n  min-height: 1rem;\n}\n.logininput {\n  align-items: center;\n  display: flex;\n}\n.div {\n  display: block;\n}\na {\n  text-decoration: underline;\n}\nfieldset {\n  min-width: 0;\n  padding: 0;\n  margin: 0;\n  border: 0;\n}\n.center {\n  margin: 0 auto;\n  float: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.threelogin {\n  padding: 10px 30px;\n  margin: 1rem;\n}\n.pwbox {\n  position: relative;\n  width: 400px;\n  border: 1px solid #ccc;\n  margin: 100px auto;\n}\n\n.pwbox img {\n  position: absolute;\n  top: -5px;\n  right: 2px;\n  width: 24px;\n}\n\n.pwbox input {\n  width: 370px;\n  outline: none;\n  border: 0;\n}\n</style>"]},"metadata":{},"sourceType":"module"}